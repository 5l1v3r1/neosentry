/*! light-blue APP - v3.3.0 - 2016-03-08 */function keyColor(a,b){return window.colors||(window.colors=function(){return d3.scale.ordinal().range(COLOR_VALUES)}()),window.colors(a.key)}function closeNavigation(){var a=$("#side-nav").find(".panel-collapse.in");a.collapse("hide"),a.siblings(".accordion-toggle").addClass("collapsed"),resetContentMargin();var b=$("#sidebar");$(window).width()<768&&b.is(".in")&&b.collapse("hide")}function resetContentMargin(){$(window).width()>767&&$(".content").css("margin-top","")}function initPjax(){var a=function(){this.pjaxEnabled=window.PJAX_ENABLED,this.debug=window.DEBUG,this.$sidebar=$("#sidebar"),this.$content=$(".content"),this.$loaderWrap=$(".loader-wrap"),this.pageLoadCallbacks={},this.loading=!1,this._resetResizeCallbacks(),this._initOnResizeCallbacks(),this.pjaxEnabled&&(this.$sidebar.find("a:not(.accordion-toggle):not([data-no-pjax])").on("click",$.proxy(this._checkLoading,this)),$(document).pjax("#sidebar a:not(.accordion-toggle):not([data-no-pjax])",".content",{fragment:".content",type:"GET",timeout:1e4}),$(document).on("pjax:start",$.proxy(this._changeActiveNavigationItem,this)),$(document).on("pjax:start",$.proxy(this._resetResizeCallbacks,this)),$(document).on("pjax:send",$.proxy(this.showLoader,this)),$(document).on("pjax:success",$.proxy(this._loadScripts,this)),$(document).on("pjax-app:loaded",$.proxy(this._loadingFinished,this)),$(document).on("pjax-app:loaded",$.proxy(this.hideLoader,this)),$(document).on("pjax:end",$.proxy(this.pageLoaded,this)),window.onerror=$.proxy(this._logErrors,this))};a.prototype._initOnResizeCallbacks=function(){var a,b=this;$(window).resize(function(){clearTimeout(a),a=setTimeout(function(){b._runPageCallbacks(b.resizeCallbacks)},100)})},a.prototype._resetResizeCallbacks=function(){this.resizeCallbacks={}},a.prototype._changeActiveNavigationItem=function(a,b,c){this.$sidebar.find("li.active").removeClass("active"),this.$sidebar.find('a[href*="'+this.extractPageName(c.url)+'"]').each(function(){this.href===c.url&&$(this).closest("li").addClass("active").closest(".panel").addClass("active")})},a.prototype.showLoader=function(){var a=this;this.showLoaderTimeout=setTimeout(function(){a.$content.addClass("hiding"),a.$loaderWrap.removeClass("hide"),setTimeout(function(){a.$loaderWrap.removeClass("hiding")},0)},200)},a.prototype.hideLoader=function(){clearTimeout(this.showLoaderTimeout),this.$loaderWrap.addClass("hiding"),this.$content.removeClass("hiding");var a=this;this.$loaderWrap.one($.support.transition.end,function(){a.$loaderWrap.addClass("hide"),a.$content.removeClass("hiding")}).emulateTransitionEnd(200)},a.prototype.onResize=function(a){this._addPageCallback(this.resizeCallbacks,a)},a.prototype.onPageLoad=function(a){this._addPageCallback(this.pageLoadCallbacks,a)},a.prototype.pageLoaded=function(){this._runPageCallbacks(this.pageLoadCallbacks)},a.prototype._addPageCallback=function(a,b){var c=this.extractPageName(location.href);a[c]||(a[c]=[]),a[c].push(b)},a.prototype._runPageCallbacks=function(a){var b=this.extractPageName(location.href);a[b]&&_(a[b]).each(function(a){a()})},a.prototype._loadScripts=function(a,b,c,d,e){var f=$($.parseHTML(b.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0],document,!0)),g=f.filter("script[src]").add(f.find("script[src]")),h=f.filter('script[type="text/template"]').add(f.find('script[type="text/template"]')),i=$("script[src]"),j=$('script[type="text/template"]');h.each(function(){var a=this.id,b=j.filter(function(){return this.id===a});if(!b.length){var c=document.createElement("script");c.id=$(this).attr("id"),c.type=$(this).attr("type"),c.innerHTML=this.innerHTML,document.body.appendChild(c)}});var k={load:function(a){a()}};g.each(function(){var a=this.src,b=i.filter(function(){return this.src===a});if(!b.length){var c=document.createElement("script");c.src=$(this).attr("src"),k.load(function(){document.body.appendChild(c)}),k=$(c)}});var l=this;k.load(function(){$(document).trigger("pjax-app:loaded"),l.log("scripts loaded.")})},a.prototype.extractPageName=function(a){var b=a.split("#")[0].substring(a.lastIndexOf("/")+1).split("?")[0];return""===b?"index.html":b},a.prototype._checkLoading=function(a){var b=this.loading;return this.loading=!0,b?(this.log("attempt to load page while already loading; preventing."),a.preventDefault()):this.log(a.currentTarget.href+" loading started."),!b},a.prototype._loadingFinished=function(){this.loading=!1},a.prototype._logErrors=function(){var a=JSON.parse(localStorage.getItem("lb-errors"))||{};a[(new Date).getTime()]=arguments,localStorage.setItem("lb-errors",JSON.stringify(a))},a.prototype.log=function(a){this.debug&&console.log(a+" - "+arguments.callee.caller.toString().slice(0,30).split("\n")[0]+" - "+this.extractPageName(location.href))},window.PjaxApp=new a}function initDemoFunctions(){$(document).one("pjax:end",function(){})}function initAppPlugins(){!function(a){a(document).on("click","table th [data-check-all]",function(){a(this).closest("table").find("input[type=checkbox]").not(this).prop("checked",a(this).prop("checked"))})}(jQuery),!function(a){a.fn.animateProgressBar=function(){return this.each(function(){var b=a(this).find(".progress-bar");setTimeout(function(){b.css("width",b.data("width"))},0)})},a(".js-progress-animate").animateProgressBar()}(jQuery)}function testData(a,b){var c=(new Date).getTime(),d=864e5,e=60,f=e*d,g=c-f,b=b||45,h=e/b;return stream_layers(a.length,b,.1).map(function(b,c){return{key:a[c],values:b.map(function(a,b){return{x:g+a.x*d*h,y:Math.floor(100*a.y)}})}})}function stream_layers(a,b,c){function d(a){for(var c=1/(.1+Math.random()),d=2*Math.random()-.5,e=10/(.1+Math.random()),f=0;b>f;f++){var g=(f/b-d)*e;a[f]+=c*Math.exp(-g*g)}}return arguments.length<3&&(c=0),d3.range(a).map(function(){var a,e=[];for(a=0;b>a;a++)e[a]=c+c*Math.random();for(a=0;5>a;a++)d(e);return e.map(stream_index)})}function stream_index(a,b){return{x:b,y:Math.max(0,a)}}window.PJAX_ENABLED=!0,window.DEBUG=!1;var $lime="#8CBF26",$red="#f25118",$redDark="#d04f4f",$blue="#4e91ce",$green="#3ecd74",$orange="#f2c34d",$pink="#E671B8",$purple="#A700AE",$brown="#A05000",$teal="#4ab0ce",$gray="#666",$white="#fff",$textColor=$gray,chartsOff=!1;chartsOff&&(nv.addGraph=function(){}),COLOR_VALUES=[$red,$orange,$green,$blue,$teal,$redDark],window.colors=function(){return window.d3?d3.scale.ordinal().range(COLOR_VALUES):!1}(),$(function(){var a=$("#sidebar");a.on("mouseleave",function(){($(this).is(".sidebar-icons")||$(window).width()<1049)&&$(window).width()>767&&setTimeout(function(){closeNavigation()},300)}),a.on("show.bs.collapse",function(b){b.target==this&&a.addClass("open")}),a.on("hide.bs.collapse",function(b){b.target==this&&(a.removeClass("open"),$(".content").css("margin-top",""))}),$(window).resize(function(){closeNavigation()}),$(document).on("pjax-app:loaded",function(){$(window).width()<768&&closeNavigation()}),$(".btn-group > .btn[data-toggle-class]").click(function(){var a=$(this),b=a.find("input").is("[type=radio]"),c=a.parent();b?(c.children(".btn[data-toggle-class]").removeClass(function(){return $(this).data("toggle-class")}).addClass(function(){return $(this).data("toggle-passive-class")}),a.removeClass($(this).data("toggle-passive-class")).addClass(a.data("toggle-class"))):a.toggleClass($(this).data("toggle-passive-class")).toggleClass(a.data("toggle-class"))}),$("#search-toggle").click(function(){a.data("bs.collapse")&&a.collapse("hide");var b=$(".notifications"),c=!b.is(":empty");$("#search-form").css("height",function(){var a=$(this);0==a.height()?(a.css("height",40),c&&b.css("top",86)):(a.css("height",0),c&&b.css("top",""))})}),a.on("show.bs.collapse",function(){var a=$(".notifications"),b=!a.is(":empty");$("#search-form").css("height",0),b&&a.css("top","")}),$("#side-nav").find("a.accordion-toggle").on("click",function(){if($(window).width()<768){var a=$(this),b=$("#side-nav"),c=b.height()+parseInt(b.css("margin-top"))+parseInt(b.css("margin-bottom")),d=c+20,e=a.find("+ ul"),f=e.find("> li"),g=$.map(f,function(a){return $(a).height()}).reduce(function(a,b){return a+b}),h=$(".content");e.is(".in")?h.css("margin-top",d-g+"px"):h.css("margin-top",d+g-a.closest("ul").find("> .panel > .panel-collapse.open").height()+"px")}}),a.on("show.bs.collapse",function(a){if(a.target==this&&$(window).width()<768){var b=$("#side-nav"),c=b.height()+parseInt(b.css("margin-top"))+parseInt(b.css("margin-bottom")),d=c+20;$(".content").css("margin-top",d+"px")}});var b=a.find(".panel-collapse");b.on("show.bs.collapse",function(a){a.target==this&&$(this).addClass("open")}),b.on("hide.bs.collapse",function(a){a.target==this&&$(this).removeClass("open")}),initPjax(),initDemoFunctions(),initAppPlugins()});
/*! light-blue SETTINGS - v3.3.0 - 2016-03-08 */function triggerChartsResize(){try{window.onresize&&window.onresize()}catch(a){}$(window).trigger("resize")}$(function(){var a=$("#settings"),b=$("#sidebar-settings"),c=JSON.parse(localStorage.getItem("settings-state"))||{sidebar:"left",sidebarState:"auto",displaySidebar:!0},d=$(".page-header"),e=$("body"),f=function(){a.data("bs.popover").hoverState="out",a.popover("hide")},g=function(b){var c=a.siblings(".popover");c.length&&!$.contains(c[0],b.target)&&(f(),$(document).off("click",g))},h=function(a){"right"==a?e.addClass("sidebar-on-right"):e.removeClass("sidebar-on-right")},i=function(a,c){var d=$("#sidebar-settings-template");c=void 0==c?!0:!1,d[0]&&(b.html(_.template(d.html())({sidebarState:a})),"auto"==a?$(".sidebar, .side-nav, .wrap, .logo").removeClass("sidebar-icons"):$(".sidebar, .side-nav, .wrap, .logo").addClass("sidebar-icons"),c&&triggerChartsResize())},j=function(a,b){b=void 0==b?!0:!1,1==a?e.removeClass("sidebar-hidden"):e.addClass("sidebar-hidden"),b&&triggerChartsResize()};h(c.sidebar),i(c.sidebarState,!1),j(c.displaySidebar,!1),a[0]&&(a.popover({template:'<div class="popover settings-popover"><div class="arrow"></div><div class="popover-inner"><div class="popover-content"></div></div></div>',html:!0,animation:!1,placement:"bottom",content:function(){return _.template($("#settings-template").html())(c)}}).click(function(a){return $(".page-header .dropdown.open .dropdown-toggle").dropdown("toggle"),$(document).on("click",g),$(this).focus(),!1}),$(".page-header .dropdown-toggle").click(function(){f(),$(document).off("click",g)}),d.on("click",".popover #sidebar-toggle .btn",function(){var a=$(this),b=a.data("value");h(b),c.sidebar=b,localStorage.setItem("settings-state",JSON.stringify(c))}),d.on("click",".popover #display-sidebar-toggle .btn",function(){var a=$(this),b=a.data("value");j(b),c.displaySidebar=b,localStorage.setItem("settings-state",JSON.stringify(c))}),b.on("click",".btn",function(){var a=$(this),b=a.data("value");"icons"==b&&closeNavigation(),i(b),c.sidebarState=b,localStorage.setItem("settings-state",JSON.stringify(c))}),($("#sidebar").is(".sidebar-icons")||$(window).width()<1049)&&$(window).width()>767&&closeNavigation(),d.on("click",".popover [data-toggle='buttons-radio'] .btn:not(.active)",function(){var a=$(this),b=a.parent().find(".btn");b.removeClass("active"),setTimeout(function(){a.addClass("active")},0)}))}),window.LightBlue={screens:{"xs-max":767,"sm-min":768,"sm-max":991,"md-min":992,"md-max":1199,"lg-min":1200},isScreen:function(a){var b=window.innerWidth;return(b>=this.screens[a+"-min"]||"xs"==a)&&(b<=this.screens[a+"-max"]||"lg"==a)},getScreenSize:function(){var a=window.innerWidth;return a<=this.screens["xs-max"]?"xs":a>=this.screens["sm-min"]&&a<=this.screens["sm-max"]?"sm":a>=this.screens["md-min"]&&a<=this.screens["md-max"]?"md":a>=this.screens["lg-min"]?"lg":void 0},changeColor:function(a,b,c){var d=function(a,b){var c="0";for(a+="";a.length<b;)a=c+a;return a};a=a.replace(/^\s*|\s*$/,""),a=a.replace(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i,"#$1$1$2$2$3$3");var e=Math.round(256*b)*(c?-1:1),f=a.match(new RegExp("^rgba?\\(\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\s*,\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\s*,\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])(?:\\s*,\\s*(0|1|0?\\.\\d+))?\\s*\\)$","i")),g=f&&null!=f[4]?f[4]:null,h=f?[f[1],f[2],f[3]]:a.replace(/^#?([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])/i,function(){return parseInt(arguments[1],16)+","+parseInt(arguments[2],16)+","+parseInt(arguments[3],16)}).split(/,/);return f?"rgb"+(null!==g?"a":"")+"("+Math[c?"max":"min"](parseInt(h[0],10)+e,c?0:255)+", "+Math[c?"max":"min"](parseInt(h[1],10)+e,c?0:255)+", "+Math[c?"max":"min"](parseInt(h[2],10)+e,c?0:255)+(null!==g?", "+g:"")+")":["#",d(Math[c?"max":"min"](parseInt(h[0],10)+e,c?0:255).toString(16),2),d(Math[c?"max":"min"](parseInt(h[1],10)+e,c?0:255).toString(16),2),d(Math[c?"max":"min"](parseInt(h[2],10)+e,c?0:255).toString(16),2)].join("")},lighten:function(a,b){return this.changeColor(a,b,!1)},darken:function(a,b){return this.changeColor(a,b,!0)}};
